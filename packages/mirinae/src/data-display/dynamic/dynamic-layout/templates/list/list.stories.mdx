import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs/blocks';

import { reactive, toRefs } from 'vue';

import { I18nConnector } from '@/translations';

import PDynamicLayout from '../../PDynamicLayout.vue';

import { getDynamicLayoutListArgTypes } from '@/data-display/dynamic/dynamic-layout/templates/list/story-helper';

<Meta title='Data Display/Dynamic/Dynamic Layout/- List'
      argTypes={getDynamicLayoutListArgTypes()}
/>

export const Template = (args, { argTypes }) => ({
    props: Object.keys(argTypes),
    components: { PDynamicLayout },
    i18n: I18nConnector.i18n,
    template: `
      <p-dynamic-layout :name="name" type="list"
                          :options="options"
                          :data="data"
                          :type-options="{
                              loading,
                              totalCount,
                              timezone,
                              selectIndex,
                              selectable,
                              multiSelect,
                              invalid,
                              colCopy,
                              excelVisible,
                              settingsVisible,
                              keyItemSets,
                              valueHandlerMap
                          }"
                          :fetch-options="{
                              sortBy,
                              sortDesc,
                              pageStart,
                              pageLimit,
                              queryTags
                          }"
                           style="max-height: inherit; width: 90%;"
                            @fetch="onFetch"
                            @select="onSelect"
                            @export="onExport"
                            @click-settings="onClickSettings"
            >
        </p-dynamic-layout>
    `,
    setup() {
        return {}
    }
});


# List Type
<br/>
<br/>

list type's event parameters are different: <br/>

`[...arguments,  name of layout(string), index of layout(number)]`


<br/>
<br/>

## Playground

<Canvas>
    <Story name="Playground">
        {Template.bind({})}
    </Story>
</Canvas>

<ArgsTable story="Playground"/>

<br/>
<br/>
