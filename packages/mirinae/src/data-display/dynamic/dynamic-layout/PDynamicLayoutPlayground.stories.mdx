import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs/blocks';
import PDynamicLayout from './PDynamicLayout.vue';
import { I18nConnector } from '@/translations'
import { getDynamicLayoutArgTypes } from './story-helper';

<Meta title='Data Display/Dynamic/Dynamic Layout/0. Playground'
      argTypes={getDynamicLayoutArgTypes()}/>


export const Template = (args, { argTypes }) => ({
    props: Object.keys(argTypes),
    components: { PDynamicLayout },
    i18n: I18nConnector.i18n,
    template: `
            <p-dynamic-layout :name="name" :type="type"
                              :options="options"
                              :data="data"
                              :type-options="{
                                  loading,
                                  totalCount,
                                  timezone,
                                  selectIndex,
                                  selectable,
                                  multiSelect,
                                  invalid,
                                  colCopy,
                                  excelVisible,
                                  settingsVisible,
                                  keyItemSets,
                                  valueHandlerMap,
                                  language,
                                  popupVisible
                              }"
                              :fetch-options="{
                                  sortBy,
                                  sortDesc,
                                  pageStart,
                                  pageLimit,
                                  queryTags,
                                  searchText
                              }"
                               class="w-full"
                               @fetch="onFetch"
                                @select="onSelect"
                                @export="onExport"
                                @click-settings="onClickSettings"
                                @click-row="onClickRow"
                                @update-popup-visible="onUpdatePopupVisible"
            >
            </p-dynamic-layout>
    `,
});

## Playground

<Canvas>
    <Story name="Playground" >
        {Template.bind({})}
    </Story>
</Canvas>

<ArgsTable story="Playground" />
